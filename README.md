# Analytical platform

[![repo standards badge](https://img.shields.io/endpoint?labelColor=231f20&color=005ea5&style=for-the-badge&label=MoJ%20Compliant&url=https%3A%2F%2Foperations-engineering-reports.cloud-platform.service.justice.gov.uk%2Fapi%2Fv1%2Fcompliant_public_repositories%2Fendpoint%2Fanalytical-platform&logo=data:image/png;base64,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)](https://operations-engineering-reports.cloud-platform.service.justice.gov.uk/public-github-repositories.html#analytical-platform)
[![OpenSSF Scorecard](https://api.securityscorecards.dev/projects/github.com/ministryofjustice/analytical-platform/badge)](https://api.securityscorecards.dev/projects/github.com/ministryofjustice/analytical-platform)

The Analytical Platform provides users with a place to store, ingest and consume data.

This repository holds the Ministry of Justiceâ€™s Analytical Platforms published technical documentation and code to build its infrastructure for our users.

## About this repository

This is the Ministry of Justice repository for the core infrastructure of the
Analytical Platform.

Please read the [contributing guide](CONTRIBUTING.md) before sending pull
requests, or creating issues.

## Analytical Platform repositories

We have a series of repositories for our work. We have adopted the naming
convention of naming each repository starting with `analytical-platform-*`.

We also [name things](https://technical-guidance.service.justice.gov.uk/documentation/standards/naming-things.html#naming-things)
so that users can understand what a repository does through its name.

The repositories we manage with terraform see [here](https://github.com/ministryofjustice/data-platform-github-access/blob/main/analytical-platform-repositories.tf).

| Name | Description |
| -------------- | -------------- |
| [Analytical Platform (this repository)](https://github.com/ministryofjustice/analytical-platform)          | Analytical Platform infrastructure, public facing documentation, feature work, enhancements, and issues  |
| [Analytical Platform Actions Runner](https://github.com/ministryofjustice/analytical-platform-actions-runner)          | contains the GitHub Actions Runner image used by the Analytical Platform  |
| [Analytical Platform Auth Proxy](https://github.com/ministryofjustice/analytics-platform-auth-proxy)          | This repository contains the authentication proxy image used by the Analytical Platform  |
| [Analytical Platform Control Panel](https://github.com/ministryofjustice/analytics-platform-control-panel)          | The Control Panel is a management tool which provides Data Analysts and Data Scientists data management and tooling  |
| [Analytical Platform Dashboard](https://github.com/ministryofjustice/analytical-platform-dashboard)          | The AP Dashboard is still in development   |
| [Analytical Platform GitHub Access](https://github.com/ministryofjustice/data-platform-github-access)          | This repository controls access to the Data Platform Service Area's GitHub which includes, Analytical Platform, Data Catalogue and Data Engineering's access to the Analytical Platform  |
| [Analytical Platform image build template](https://github.com/ministryofjustice/analytical-platform-image-build-template)          | contains the GitHub Actions Runner image used by the Analytical Platform  |
| [Analytical Platform Ingestion Notify](https://github.com/ministryofjustice/analytical-platform-ingestion-notify)          | Image for the Analytical Platform Ingestion service. It is deployed as an AWS Lambda function within the analytical-platform-ingestion account  |
| [Analytical Platform Ingestion Scan](https://github.com/ministryofjustice/analytical-platform-ingestion-scan)          | This repository contains the image used in the Analytical Platform Ingestion service. It is deployed as an AWS Lambda function within the analytical-platform-ingestion account and is called as part of the AWS Transfer Family Server workflows  |
| [Analytical Platform Ingestion Transfer](https://github.com/ministryofjustice/analytical-platform-ingestion-transfer)          | This repository contains the image  used in the Analytical Platform Ingestion service. It is deployed as an AWS Lambda function within the analytical-platform-ingestion account  |
| [Analytical Platform JML report](https://github.com/ministryofjustice/analytical-platform-jml-report)          | Creates a joiners movers leavers report  |
| [Analytical Platform Jupyter Notebook image](https://github.com/ministryofjustice/analytics-platform-jupyter-notebook)          | This repository contains the Jupyter Notebook image image used by the Analytical Platform  |
| [Analytical Platform Kubectl image](https://github.com/ministryofjustice/analytical-platform-kubectl)          | This repository contains the GitHub Kubectl image used by the Analytical Platform  |
| [Analytical Platform RShiny base image](https://github.com/ministryofjustice/analytical-platform-rshiny-open-source-base)          | This repository contains the GitHub RShiny Open Source Base image used by the Analytical Platform  |
| [Analytical Platform RStudio image](https://github.com/ministryofjustice/analytics-platform-rstudio)          | This repository contains the RStudio image used by the Analytical Platform  |
| [Analytical Platform Runbooks](https://github.com/ministryofjustice/analytical-platform-runbooks)          | This repository contains Runbooks for the Analytical Platform.  |
| [Analytical Platform support](https://github.com/ministryofjustice/data-platform-support)            | This repository is used for support and provides templated forms for our users          |
| [Analytical Platform User Guidancel](https://github.com/moj-analytical-services/user-guidance)          | User guidance for the Analytical Platform which is hosted on GitHub Pages [here](https://user-guidance.analytical-platform.service.justice.gov.uk/)  |
| [Analytical Platform Visual Studio Code](https://github.com/ministryofjustice/analytical-platform-visual-studio-code)          | This repository contains the Visual Studio Code image used by the Analytical Platform  |
| [Modernisation Platform environments repository](https://github.com/ministryofjustice/modernisation-platform-environments/tree/main/terraform/environments/analytical-platform) | Hosting environment for the Analytical Platform |

### Useful links

It may be also useful to look at:

- [Technical documentation](https://technical-documentation.analytical-platform.service.justice.gov.uk/)
- [Architecture Decision Records (ADRs)](https://technical-documentation.analytical-platform.service.justice.gov.uk/documentation/adrs/adr-index.html)

## Getting in touch

We are currently in the research and design phase, and are not yet accepting
requests to host new data products.

In the meantime please get in touch via our `#analytical-platform` Slack channel
with any questions.

<!--
## Service runbook information

Please note we do not provide support for data quality issues, or for apps
dependent on the Analytical Platform Please contact the relevant
data or app owners via [*the directory of Analytical Platform services*]

### Incident response hours

Office hours, usually 8am-5pm on working days

-->

### Incident contact details

Slack: [#ask-analytical-platform](https://moj.enterprise.slack.com/archives/C06TFT94JTC)
Email: `analytical-platform@digital.justice.gov.uk`

### Service team contact

As above - preferably our Slack channel: [#ask-analytical-platform](https://moj.enterprise.slack.com/archives/C06TFT94JTC) (or email `analytical-platform@digital.justice.gov.uk`)

## Hosting environment

[Modernisation Platform](https://user-guide.modernisation-platform.service.justice.gov.uk/)

<!-- ### Consumers of this service:

(placeholder)

### **Services consumed by this:**

(placeholder) -->

## Editing and publishing the Technical Documentation

The [published](https://technical-documentation.analytical-platform.service.justice.gov.uk/)
documentation is created by editing `*.html.md.erb` files,
found in the [docs source](docs/source/) folder.

The syntax is Markdown, more details can be found [here](https://daringfireball.net/projects/markdown/).

For guidance see the Tech Docs Template [Write your content](https://tdt-documentation.london.cloudapps.digital/write_docs/content/).

While editing the files locally, you can start a Docker container that will use
Middleman to act as a server hosting the web pages. See [preview docs](#preview-docs).

Every change should be reviewed in a pull request, no matter how minor.
PR request reviewer/s should be enabled within the main branch protection
settings.

Merging the changes to the `main` branch automatically publishes the
changes via GH Action. See [publishing](#publishing).

### Preview docs

You can preview how your changes will look, if you've cloned this repository
to your local machine, run this command:

```bash
bash scripts/docs/docker.sh preview
```

This will run a preview web server on <http://localhost:4567> which you can
open in your browser.

Use `bash scripts/docs/docker.sh check` to compile
the site to HTML and check the URLs are valid.

This is only accessible on your computer, and won't be accessible to anyone
else.

For more details see the
[tech-docs-github-pages-publisher](https://github.com/ministryofjustice/tech-docs-github-pages-publisher)
repository.

### Publishing

Any changes you push/merge into the
`main` branch should be published to GitHub Pages site automatically.

### Template configuration

The web page layout is configured using the config/tech-docs.yml file.

The template can be configured in [config/tech-docs.yml](config/tech-docs.yml)

Further configuration options are described on the Tech Docs Template
website: [Global Configuration](https://tdt-documentation.london.cloudapps.digital/configure_project/global_configuration/).
