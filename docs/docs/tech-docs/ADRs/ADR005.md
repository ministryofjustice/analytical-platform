---
eleventyNavigation:
  key: ADR005
  parent: ADRs
  order: 5
layout: post
title: ADR005 ✅
date: 2023-05-05
includeInBreadcrumbs: true
description: Use AWS Secrets Manager for Secrets
---

## Status

✅ Accepted

## Context

The Data Platform team will need a way to store secrets securely.

There are [several methods](https://security-guidance.service.justice.gov.uk/secrets-management/#application--infrastructure-secrets) currently used across the MoJ, including [Secrets Manager](https://aws.amazon.com/secrets-manager/), [Parameter Store](https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html), [1Password](https://operations-engineering.service.justice.gov.uk/documentation/services.html#services), [Git-Crypt](https://github.com/AGWA/git-crypt) and [GitHub Secrets.](https://docs.github.com/en/actions/security-guides/encrypted-secrets)

We want to adhere to [MoJ Security Guidance](https://security-guidance.service.justice.gov.uk/secrets-management/#application--infrastructure-secrets) and align with other [Hosting and Platform teams.](https://technical-guidance.service.justice.gov.uk/documentation/standards/hosting.html)

## Decision

We are proposing to use [Secrets Manager](https://aws.amazon.com/secrets-manager/) for secrets management.

We can use it for our GitHub actions as seen [here.](https://github.com/ministryofjustice/data-platform/blob/main/.github/workflows/platform-pagerduty-rota-to-slack.yml#L61-L67)

[AWS Systems Manager Parameter Store](https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html) can be used to store non secret information e.g. environment parameters

## Consequences

### General consequences

* All secrets will be stored in Secrets Manager
* Secret rotation via Secrets Manager should be used where possible
* We will need to manage mechanisms to retrieve credentials from Secrets Manager e.g. for GitHub Actions

### Advantages

* Cross-account access
* Has an official AWS GitHub Action
* Compatible with AWS services
* Automated secret rotation possible
* Users manage their own secrets

### Disadvantages

* Secrets Manager is more expensive than Parameter Store
